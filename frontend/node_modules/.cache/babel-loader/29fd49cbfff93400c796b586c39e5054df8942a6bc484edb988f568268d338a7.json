{"ast":null,"code":"import * as Actions from \"./actions\";\nimport initialState from \"../store/initialState\";\nexport const UserReducer = (state = initialState.user, action) => {\n  switch (action.type) {\n    case Actions.SIGN_UP:\n    case Actions.SIGN_IN:\n    case Actions.SIGN_USER_STORE:\n      return {\n        ...state,\n        ...action.payload.user,\n        errors: {} // clear errors on success\n      };\n    case Actions.SIGN_UP_ERROR:\n    case Actions.SIGN_IN_ERROR:\n      return {\n        ...state,\n        errors: normalizeErrors(action.payload.errors)\n      };\n    case Actions.SIGN_OUT:\n      return {\n        ...initialState.user\n      };\n    case Actions.CLEAR_ERRORS:\n      return {\n        ...state,\n        errors: {}\n      };\n    default:\n      return state;\n  }\n};\n_c = UserReducer;\nfunction normalizeErrors(errors) {\n  if (!errors || typeof errors !== \"object\") {\n    return {\n      error: [\"An unexpected error occurred.\"]\n    };\n  }\n  const normalized = {};\n  if (errors.email) {\n    normalized.email = Array.isArray(errors.email) ? errors.email : [errors.email];\n  }\n  if (errors.password) {\n    normalized.password = Array.isArray(errors.password) ? errors.password : [errors.password];\n  }\n  if (errors.password_confirm) {\n    normalized.password_confirm = Array.isArray(errors.password_confirm) ? errors.password_confirm : [errors.password_confirm];\n  }\n  if (errors.message || errors.detail) {\n    normalized.error = [errors.message || errors.detail];\n  }\n  return normalized;\n}\nvar _c;\n$RefreshReg$(_c, \"UserReducer\");","map":{"version":3,"names":["Actions","initialState","UserReducer","state","user","action","type","SIGN_UP","SIGN_IN","SIGN_USER_STORE","payload","errors","SIGN_UP_ERROR","SIGN_IN_ERROR","normalizeErrors","SIGN_OUT","CLEAR_ERRORS","_c","error","normalized","email","Array","isArray","password","password_confirm","message","detail","$RefreshReg$"],"sources":["D:/django projects/hivetechwear/frontend/src/reducks/users/reducers.js"],"sourcesContent":["import * as Actions from \"./actions\";\r\nimport initialState from \"../store/initialState\";\r\n\r\nexport const UserReducer = (state = initialState.user, action) => {\r\n  switch (action.type) {\r\n    case Actions.SIGN_UP:\r\n    case Actions.SIGN_IN:\r\n    case Actions.SIGN_USER_STORE:\r\n      return {\r\n        ...state,\r\n        ...action.payload.user,\r\n        errors: {}, // clear errors on success\r\n      };\r\n\r\n    case Actions.SIGN_UP_ERROR:\r\n    case Actions.SIGN_IN_ERROR:\r\n      return {\r\n        ...state,\r\n        errors: normalizeErrors(action.payload.errors),\r\n      };\r\n\r\n    case Actions.SIGN_OUT:\r\n      return {\r\n        ...initialState.user,\r\n      };\r\n\r\n    case Actions.CLEAR_ERRORS:\r\n      return {\r\n        ...state,\r\n        errors: {},\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction normalizeErrors(errors) {\r\n  if (!errors || typeof errors !== \"object\") {\r\n    return { error: [\"An unexpected error occurred.\"] };\r\n  }\r\n\r\n  const normalized = {};\r\n\r\n  if (errors.email) {\r\n    normalized.email = Array.isArray(errors.email) ? errors.email : [errors.email];\r\n  }\r\n\r\n  if (errors.password) {\r\n    normalized.password = Array.isArray(errors.password) ? errors.password : [errors.password];\r\n  }\r\n\r\n  if (errors.password_confirm) {\r\n    normalized.password_confirm = Array.isArray(errors.password_confirm)\r\n      ? errors.password_confirm\r\n      : [errors.password_confirm];\r\n  }\r\n\r\n  if (errors.message || errors.detail) {\r\n    normalized.error = [errors.message || errors.detail];\r\n  }\r\n\r\n  return normalized;\r\n}\r\n"],"mappings":"AAAA,OAAO,KAAKA,OAAO,MAAM,WAAW;AACpC,OAAOC,YAAY,MAAM,uBAAuB;AAEhD,OAAO,MAAMC,WAAW,GAAGA,CAACC,KAAK,GAAGF,YAAY,CAACG,IAAI,EAAEC,MAAM,KAAK;EAChE,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKN,OAAO,CAACO,OAAO;IACpB,KAAKP,OAAO,CAACQ,OAAO;IACpB,KAAKR,OAAO,CAACS,eAAe;MAC1B,OAAO;QACL,GAAGN,KAAK;QACR,GAAGE,MAAM,CAACK,OAAO,CAACN,IAAI;QACtBO,MAAM,EAAE,CAAC,CAAC,CAAE;MACd,CAAC;IAEH,KAAKX,OAAO,CAACY,aAAa;IAC1B,KAAKZ,OAAO,CAACa,aAAa;MACxB,OAAO;QACL,GAAGV,KAAK;QACRQ,MAAM,EAAEG,eAAe,CAACT,MAAM,CAACK,OAAO,CAACC,MAAM;MAC/C,CAAC;IAEH,KAAKX,OAAO,CAACe,QAAQ;MACnB,OAAO;QACL,GAAGd,YAAY,CAACG;MAClB,CAAC;IAEH,KAAKJ,OAAO,CAACgB,YAAY;MACvB,OAAO;QACL,GAAGb,KAAK;QACRQ,MAAM,EAAE,CAAC;MACX,CAAC;IAEH;MACE,OAAOR,KAAK;EAChB;AACF,CAAC;AAACc,EAAA,GAhCWf,WAAW;AAkCxB,SAASY,eAAeA,CAACH,MAAM,EAAE;EAC/B,IAAI,CAACA,MAAM,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE;IACzC,OAAO;MAAEO,KAAK,EAAE,CAAC,+BAA+B;IAAE,CAAC;EACrD;EAEA,MAAMC,UAAU,GAAG,CAAC,CAAC;EAErB,IAAIR,MAAM,CAACS,KAAK,EAAE;IAChBD,UAAU,CAACC,KAAK,GAAGC,KAAK,CAACC,OAAO,CAACX,MAAM,CAACS,KAAK,CAAC,GAAGT,MAAM,CAACS,KAAK,GAAG,CAACT,MAAM,CAACS,KAAK,CAAC;EAChF;EAEA,IAAIT,MAAM,CAACY,QAAQ,EAAE;IACnBJ,UAAU,CAACI,QAAQ,GAAGF,KAAK,CAACC,OAAO,CAACX,MAAM,CAACY,QAAQ,CAAC,GAAGZ,MAAM,CAACY,QAAQ,GAAG,CAACZ,MAAM,CAACY,QAAQ,CAAC;EAC5F;EAEA,IAAIZ,MAAM,CAACa,gBAAgB,EAAE;IAC3BL,UAAU,CAACK,gBAAgB,GAAGH,KAAK,CAACC,OAAO,CAACX,MAAM,CAACa,gBAAgB,CAAC,GAChEb,MAAM,CAACa,gBAAgB,GACvB,CAACb,MAAM,CAACa,gBAAgB,CAAC;EAC/B;EAEA,IAAIb,MAAM,CAACc,OAAO,IAAId,MAAM,CAACe,MAAM,EAAE;IACnCP,UAAU,CAACD,KAAK,GAAG,CAACP,MAAM,CAACc,OAAO,IAAId,MAAM,CAACe,MAAM,CAAC;EACtD;EAEA,OAAOP,UAAU;AACnB;AAAC,IAAAF,EAAA;AAAAU,YAAA,CAAAV,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}